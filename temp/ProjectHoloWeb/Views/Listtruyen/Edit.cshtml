@model ProjectHoloWeb.Models.Comic
@using ProjectHoloWeb.Models;

@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";

    List<Catergory> comicTrans = ViewBag.listCAT as List<Catergory>;
    List<ComicCatergory> comicTranselected = ViewBag.listCOMCATselected as List<ComicCatergory>;
}

<section class="content">

    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <!-- Default box -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Title</h3>
                        <!-- Navbar -->
                        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
                            <!-- Left navbar links -->
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                                </li>

                            </ul>

                        </nav>

                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                <i class="fas fa-minus"></i>
                            </button>
                            <button type="button" class="btn btn-tool" data-card-widget="remove" title="Remove">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body" style="margin-left: 320px;">
                        <h4>Sửa truyện</h4>

                        @using (Html.BeginForm())
                        {
                            @Html.AntiForgeryToken()

                            <div class="form-horizontal">
                                
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                @Html.HiddenFor(model => model.IDcomic)

                                <div class="form-group">
                                    Thể loại:
                                    <div class="col-md-10">
                                        <div class="row">
                                            @foreach (var item in comicTrans)
                                            {
                                                if (comicTranselected.Where(p => p.IDcatergory == item.IDcatergory).FirstOrDefault() != null)
                                                {
                                                    <div class="col-md-3">
                                                        <input type="checkbox" name="list" value="@item.IDcatergory" checked="checked" />
                                                        <label for="list"> @item.catergory1 </label>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="col-md-3">
                                                        <input type="checkbox" name="list" value="@item.IDcatergory" />
                                                        <label for="list"> @item.catergory1 </label>
                                                    </div>
                                                    
                                                }

                                            }
                                         </div>
                                     </div>
                                </div>

                                <div class="form-group">
                                    Tên truyện:
                                    <div class="col-md-10">
                                        <input class="form-control" name="comic" type="text" value="@Model.comic1" id="comic">
                                    </div>
                                </div>



                                <div class="form-group">
                                    Trạng thái
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.status, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.status, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    tác giả:
                                    <div class="col-md-10">
                                        <input class="form-control" name="author" type="text" value="@Model.Author.author1" id="author">

                                    </div>

                                </div>

                                <div class="form-group">
                                    Miêu tả
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.description, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.description, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    Link ảnh bìa
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.ImageLink, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.ImageLink, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-md-offset-2 col-md-10">
                                        <input type="submit" value="Lưu" class="btn btn-default" />
                                    </div>
                                </div>
                            </div>
                        }

                        <div>
                            @Html.ActionLink("Trở lại", "Index")
                        </div>

                    </div>
                    <!-- /.card-body -->

                </div>
                <!-- /.card -->
            </div>
        </div>
    </div>
</section>